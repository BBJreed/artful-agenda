import { useState, useEffect, useCallback } from 'react';

// Define translation resources
interface Translations {
  [key: string]: string | Translations;
}

// Define supported languages
type SupportedLanguages = 'en' | 'es' | 'fr' | 'de' | 'zh';

// Translation resources
const translations: Record<SupportedLanguages, Translations> = {
  en: {
    common: {
      save: 'Save',
      cancel: 'Cancel',
      delete: 'Delete',
      edit: 'Edit',
      add: 'Add',
      close: 'Close',
      loading: 'Loading...',
      error: 'Error',
      success: 'Success',
      ok: 'OK',
      yes: 'Yes',
      no: 'No',
      confirm: 'Confirm',
      search: 'Search',
      filter: 'Filter',
      sort: 'Sort',
      refresh: 'Refresh',
      download: 'Download',
      upload: 'Upload',
      print: 'Print',
      share: 'Share',
      settings: 'Settings',
      help: 'Help',
      about: 'About',
      logout: 'Logout',
      login: 'Login',
      register: 'Register',
      username: 'Username',
      password: 'Password',
      email: 'Email',
      phone: 'Phone',
      name: 'Name',
      description: 'Description',
      date: 'Date',
      time: 'Time',
      location: 'Location',
      status: 'Status',
      priority: 'Priority',
      category: 'Category',
      tags: 'Tags',
      notes: 'Notes',
      attachments: 'Attachments',
      reminder: 'Reminder',
      notification: 'Notification',
      theme: 'Theme',
      language: 'Language',
      accessibility: 'Accessibility',
      privacy: 'Privacy',
      security: 'Security',
      backup: 'Backup',
      restore: 'Restore',
      export: 'Export',
      import: 'Import',
      sync: 'Sync',
      update: 'Update',
      install: 'Install',
      uninstall: 'Uninstall',
      enable: 'Enable',
      disable: 'Disable',
      show: 'Show',
      hide: 'Hide',
      expand: 'Expand',
      collapse: 'Collapse',
      next: 'Next',
      previous: 'Previous',
      first: 'First',
      last: 'Last',
      today: 'Today',
      tomorrow: 'Tomorrow',
      yesterday: 'Yesterday',
      week: 'Week',
      month: 'Month',
      year: 'Year',
      all: 'All',
      none: 'None',
      select: 'Select',
      deselect: 'Deselect',
      clear: 'Clear',
      reset: 'Reset',
      undo: 'Undo',
      redo: 'Redo',
      copy: 'Copy',
      paste: 'Paste',
      cut: 'Cut',
      duplicate: 'Duplicate',
      move: 'Move',
      resize: 'Resize',
      rotate: 'Rotate',
      zoom: 'Zoom',
      fullscreen: 'Fullscreen',
      exit: 'Exit',
      home: 'Home',
      back: 'Back',
      forward: 'Forward',
      up: 'Up',
      down: 'Down',
      left: 'Left',
      right: 'Right'
    },
    calendar: {
      title: 'Calendar',
      events: 'Events',
      tasks: 'Tasks',
      today: 'Today',
      month: 'Month',
      week: 'Week',
      day: 'Day',
      agenda: 'Agenda',
      schedule: 'Schedule',
      appointment: 'Appointment',
      meeting: 'Meeting',
      reminder: 'Reminder',
      deadline: 'Deadline',
      milestone: 'Milestone',
      holiday: 'Holiday',
      birthday: 'Birthday',
      anniversary: 'Anniversary',
      vacation: 'Vacation',
      sick: 'Sick',
      personal: 'Personal',
      work: 'Work',
      family: 'Family',
      friends: 'Friends',
      health: 'Health',
      fitness: 'Fitness',
      education: 'Education',
      finance: 'Finance',
      travel: 'Travel',
      entertainment: 'Entertainment',
      shopping: 'Shopping',
      maintenance: 'Maintenance',
      other: 'Other'
    },
    navigation: {
      calendar: 'Calendar',
      analytics: 'Analytics',
      heatmap: 'Heatmap',
      gantt: 'Gantt',
      timeTracker: 'Time Tracker',
      habits: 'Habits',
      goals: 'Goals',
      privacyPolicy: 'Privacy',
      mobile: 'Mobile',
      workflow: 'Workflow',
      aiAssistant: 'AI Assistant',
      resources: 'Resources',
      team: 'Team',
      reports: 'Reports',
      timeline3d: '3D Timeline',
      dashboard: 'Dashboard',
      drillDown: 'Drill-Down',
      pomodoro: 'Pomodoro',
      focus: 'Focus',
      kanban: 'Kanban',
      mindmap: 'Mind Map',
      notes: 'Notes',
      documents: 'Documents',
      photos: 'Photos',
      videos: 'Videos',
      audio: 'Audio',
      links: 'Links',
      bookmarks: 'Bookmarks',
      contacts: 'Contacts',
      projects: 'Projects',
      clients: 'Clients',
      invoices: 'Invoices',
      expenses: 'Expenses',
      budget: 'Budget',
      investments: 'Investments',
      loans: 'Loans',
      generalInsurance: 'Insurance',
      taxes: 'Taxes',
      recipes: 'Recipes',
      meals: 'Meals',
      groceries: 'Groceries',
      inventory: 'Inventory',
      wishlist: 'Wishlist',
      subscriptions: 'Subscriptions',
      vehicles: 'Vehicles',
      vehicleMaintenance: 'Maintenance',
      fuel: 'Fuel',
      vehicleInsurance: 'Vehicle Insurance',
      repairs: 'Repairs',
      fitness: 'Fitness',
      workouts: 'Workouts',
      progress: 'Progress',
      metrics: 'Metrics',
      challenges: 'Challenges',
      achievements: 'Achievements',
      badges: 'Badges',
      leaderboard: 'Leaderboard',
      social: 'Social',
      messages: 'Messages',
      notifications: 'Notifications',
      profile: 'Profile',
      preferences: 'Preferences',
      account: 'Account',
      billing: 'Billing',
      support: 'Support',
      feedback: 'Feedback',
      helpCenter: 'Help',
      documentation: 'Documentation',
      tutorials: 'Tutorials',
      faq: 'FAQ',
      community: 'Community',
      forum: 'Forum',
      blog: 'Blog',
      news: 'News',
      updates: 'Updates',
      changelog: 'Changelog',
      roadmap: 'Roadmap',
      about: 'About',
      contact: 'Contact',
      privacy: 'Privacy Policy',
      terms: 'Terms of Service',
      cookies: 'Cookie Policy',
      security: 'Security',
      compliance: 'Compliance',
      accessibility: 'Accessibility',
      careers: 'Careers',
      partners: 'Partners',
      affiliates: 'Affiliates',
      developers: 'Developers',
      api: 'API',
      integrations: 'Integrations',
      plugins: 'Plugins',
      extensions: 'Extensions',
      themes: 'Themes',
      customization: 'Customization',
      branding: 'Branding',
      whiteLabel: 'White Label',
      enterprise: 'Enterprise',
      education: 'Education',
      nonprofit: 'Nonprofit',
      government: 'Government'
    }
  },
  es: {
    common: {
      save: 'Guardar',
      cancel: 'Cancelar',
      delete: 'Eliminar',
      edit: 'Editar',
      add: 'Agregar',
      close: 'Cerrar',
      loading: 'Cargando...',
      error: 'Error',
      success: 'Éxito',
      ok: 'OK',
      yes: 'Sí',
      no: 'No',
      confirm: 'Confirmar',
      search: 'Buscar',
      filter: 'Filtrar',
      sort: 'Ordenar',
      refresh: 'Actualizar',
      download: 'Descargar',
      upload: 'Subir',
      print: 'Imprimir',
      share: 'Compartir',
      settings: 'Configuración',
      help: 'Ayuda',
      about: 'Acerca de',
      logout: 'Cerrar sesión',
      login: 'Iniciar sesión',
      register: 'Registrarse',
      username: 'Nombre de usuario',
      password: 'Contraseña',
      email: 'Correo electrónico',
      phone: 'Teléfono',
      name: 'Nombre',
      description: 'Descripción',
      date: 'Fecha',
      time: 'Hora',
      location: 'Ubicación',
      status: 'Estado',
      priority: 'Prioridad',
      category: 'Categoría',
      tags: 'Etiquetas',
      notes: 'Notas',
      attachments: 'Adjuntos',
      reminder: 'Recordatorio',
      notification: 'Notificación',
      theme: 'Tema',
      language: 'Idioma',
      accessibility: 'Accesibilidad',
      privacy: 'Privacidad',
      security: 'Seguridad',
      backup: 'Copia de seguridad',
      restore: 'Restaurar',
      export: 'Exportar',
      import: 'Importar',
      sync: 'Sincronizar',
      update: 'Actualizar',
      install: 'Instalar',
      uninstall: 'Desinstalar',
      enable: 'Habilitar',
      disable: 'Deshabilitar',
      show: 'Mostrar',
      hide: 'Ocultar',
      expand: 'Expandir',
      collapse: 'Contraer',
      next: 'Siguiente',
      previous: 'Anterior',
      first: 'Primero',
      last: 'Último',
      today: 'Hoy',
      tomorrow: 'Mañana',
      yesterday: 'Ayer',
      week: 'Semana',
      month: 'Mes',
      year: 'Año',
      all: 'Todos',
      none: 'Ninguno',
      select: 'Seleccionar',
      deselect: 'Deseleccionar',
      clear: 'Limpiar',
      reset: 'Reiniciar',
      undo: 'Deshacer',
      redo: 'Rehacer',
      copy: 'Copiar',
      paste: 'Pegar',
      cut: 'Cortar',
      duplicate: 'Duplicar',
      move: 'Mover',
      resize: 'Redimensionar',
      rotate: 'Rotar',
      zoom: 'Zoom',
      fullscreen: 'Pantalla completa',
      exit: 'Salir',
      home: 'Inicio',
      back: 'Atrás',
      forward: 'Adelante',
      up: 'Arriba',
      down: 'Abajo',
      left: 'Izquierda',
      right: 'Derecha'
    },
    calendar: {
      title: 'Calendario',
      events: 'Eventos',
      tasks: 'Tareas',
      today: 'Hoy',
      month: 'Mes',
      week: 'Semana',
      day: 'Día',
      agenda: 'Agenda',
      schedule: 'Horario',
      appointment: 'Cita',
      meeting: 'Reunión',
      reminder: 'Recordatorio',
      deadline: 'Fecha límite',
      milestone: 'Hito',
      holiday: 'Festivo',
      birthday: 'Cumpleaños',
      anniversary: 'Aniversario',
      vacation: 'Vacaciones',
      sick: 'Enfermedad',
      personal: 'Personal',
      work: 'Trabajo',
      family: 'Familia',
      friends: 'Amigos',
      health: 'Salud',
      fitness: 'Fitness',
      education: 'Educación',
      finance: 'Finanzas',
      travel: 'Viaje',
      entertainment: 'Entretenimiento',
      shopping: 'Compras',
      maintenance: 'Mantenimiento',
      other: 'Otro'
    },
    navigation: {
      calendar: 'Calendario',
      analytics: 'Analíticas',
      heatmap: 'Mapa de calor',
      gantt: 'Gantt',
      timeTracker: 'Seguimiento de tiempo',
      habits: 'Hábitos',
      goals: 'Metas',
      privacyPolicy: 'Privacidad',
      mobile: 'Móvil',
      workflow: 'Flujo de trabajo',
      aiAssistant: 'Asistente de IA',
      resources: 'Recursos',
      team: 'Equipo',
      reports: 'Informes',
      timeline3d: 'Línea de tiempo 3D',
      dashboard: 'Tablero',
      drillDown: 'Desglose',
      pomodoro: 'Pomodoro',
      focus: 'Enfoque',
      kanban: 'Kanban',
      mindmap: 'Mapa Mental',
      notes: 'Notas',
      documents: 'Documentos',
      photos: 'Fotos',
      videos: 'Videos',
      audio: 'Audio',
      links: 'Enlaces',
      bookmarks: 'Marcadores',
      contacts: 'Contactos',
      projects: 'Proyectos',
      clients: 'Clientes',
      invoices: 'Facturas',
      expenses: 'Gastos',
      budget: 'Presupuesto',
      investments: 'Inversiones',
      loans: 'Préstamos',
      generalInsurance: 'Seguros',
      taxes: 'Impuestos',
      recipes: 'Recetas',
      meals: 'Comidas',
      groceries: 'Comestibles',
      inventory: 'Inventario',
      wishlist: 'Lista de deseos',
      subscriptions: 'Suscripciones',
      vehicles: 'Vehículos',
      vehicleMaintenance: 'Mantenimiento',
      fuel: 'Combustible',
      vehicleInsurance: 'Seguros de Vehículos',
      repairs: 'Reparaciones',
      fitness: 'Fitness',
      workouts: 'Entrenamientos',
      progress: 'Progreso',
      metrics: 'Métricas',
      challenges: 'Desafíos',
      achievements: 'Logros',
      badges: 'Insignias',
      leaderboard: 'Clasificación',
      social: 'Social',
      messages: 'Mensajes',
      notifications: 'Notificaciones',
      profile: 'Perfil',
      preferences: 'Preferencias',
      account: 'Cuenta',
      billing: 'Facturación',
      support: 'Soporte',
      feedback: 'Comentarios',
      helpCenter: 'Ayuda',
      documentation: 'Documentación',
      tutorials: 'Tutoriales',
      faq: 'Preguntas frecuentes',
      community: 'Comunidad',
      forum: 'Foro',
      blog: 'Blog',
      news: 'Noticias',
      updates: 'Actualizaciones',
      changelog: 'Registro de cambios',
      roadmap: 'Hoja de ruta',
      about: 'Acerca de',
      contact: 'Contacto',
      privacy: 'Política de privacidad',
      terms: 'Términos de servicio',
      cookies: 'Política de cookies',
      security: 'Seguridad',
      compliance: 'Cumplimiento',
      accessibility: 'Accesibilidad',
      careers: 'Carreras',
      partners: 'Socios',
      affiliates: 'Afiliados',
      developers: 'Desarrolladores',
      api: 'API',
      integrations: 'Integraciones',
      plugins: 'Complementos',
      extensions: 'Extensiones',
      themes: 'Temas',
      customization: 'Personalización',
      branding: 'Marca',
      whiteLabel: 'Etiqueta blanca',
      enterprise: 'Empresa',
      education: 'Educación',
      nonprofit: 'Sin fines de lucro',
      government: 'Gobierno'
    }
  },
  fr: {
    common: {
      save: 'Sauvegarder',
      cancel: 'Annuler',
      delete: 'Supprimer',
      edit: 'Modifier',
      add: 'Ajouter',
      close: 'Fermer',
      loading: 'Chargement...',
      error: 'Erreur',
      success: 'Succès',
      ok: 'OK',
      yes: 'Oui',
      no: 'Non',
      confirm: 'Confirmer',
      search: 'Rechercher',
      filter: 'Filtrer',
      sort: 'Trier',
      refresh: 'Actualiser',
      download: 'Télécharger',
      upload: 'Téléverser',
      print: 'Imprimer',
      share: 'Partager',
      settings: 'Paramètres',
      help: 'Aide',
      about: 'À propos',
      logout: 'Se déconnecter',
      login: 'Se connecter',
      register: 'S\'inscrire',
      username: 'Nom d\'utilisateur',
      password: 'Mot de passe',
      email: 'Email',
      phone: 'Téléphone',
      name: 'Nom',
      description: 'Description',
      date: 'Date',
      time: 'Heure',
      location: 'Emplacement',
      status: 'Statut',
      priority: 'Priorité',
      category: 'Catégorie',
      tags: 'Étiquettes',
      notes: 'Notes',
      attachments: 'Pièces jointes',
      reminder: 'Rappel',
      notification: 'Notification',
      theme: 'Thème',
      language: 'Langue',
      accessibility: 'Accessibilité',
      privacy: 'Confidentialité',
      security: 'Sécurité',
      backup: 'Sauvegarde',
      restore: 'Restaurer',
      export: 'Exporter',
      import: 'Importer',
      sync: 'Synchroniser',
      update: 'Mettre à jour',
      install: 'Installer',
      uninstall: 'Désinstaller',
      enable: 'Activer',
      disable: 'Désactiver',
      show: 'Afficher',
      hide: 'Masquer',
      expand: 'Développer',
      collapse: 'Réduire',
      next: 'Suivant',
      previous: 'Précédent',
      first: 'Premier',
      last: 'Dernier',
      today: 'Aujourd\'hui',
      tomorrow: 'Demain',
      yesterday: 'Hier',
      week: 'Semaine',
      month: 'Mois',
      year: 'Année',
      all: 'Tout',
      none: 'Aucun',
      select: 'Sélectionner',
      deselect: 'Désélectionner',
      clear: 'Effacer',
      reset: 'Réinitialiser',
      undo: 'Annuler',
      redo: 'Rétablir',
      copy: 'Copier',
      paste: 'Coller',
      cut: 'Couper',
      duplicate: 'Dupliquer',
      move: 'Déplacer',
      resize: 'Redimensionner',
      rotate: 'Pivoter',
      zoom: 'Zoom',
      fullscreen: 'Plein écran',
      exit: 'Quitter',
      home: 'Accueil',
      back: 'Retour',
      forward: 'Avancer',
      up: 'Haut',
      down: 'Bas',
      left: 'Gauche',
      right: 'Droite'
    },
    calendar: {
      title: 'Calendrier',
      events: 'Événements',
      tasks: 'Tâches',
      today: 'Aujourd\'hui',
      month: 'Mois',
      week: 'Semaine',
      day: 'Jour',
      agenda: 'Agenda',
      schedule: 'Programme',
      appointment: 'Rendez-vous',
      meeting: 'Réunion',
      reminder: 'Rappel',
      deadline: 'Date limite',
      milestone: 'Jalon',
      holiday: 'Férié',
      birthday: 'Anniversaire',
      anniversary: 'Anniversaire de mariage',
      vacation: 'Vacances',
      sick: 'Congé maladie',
      personal: 'Personnel',
      work: 'Travail',
      family: 'Famille',
      friends: 'Amis',
      health: 'Santé',
      fitness: 'Fitness',
      education: 'Éducation',
      finance: 'Finances',
      travel: 'Voyage',
      entertainment: 'Divertissement',
      shopping: 'Achats',
      maintenance: 'Entretien',
      other: 'Autre'
    },
    navigation: {
      calendar: 'Calendrier',
      analytics: 'Analytique',
      heatmap: 'Carte thermique',
      gantt: 'Gantt',
      timeTracker: 'Suivi du temps',
      habits: 'Habitudes',
      goals: 'Objectifs',
      privacyPolicy: 'Confidentialité',
      mobile: 'Mobile',
      workflow: 'Flux de travail',
      aiAssistant: 'Assistant IA',
      resources: 'Ressources',
      team: 'Équipe',
      reports: 'Rapports',
      timeline3d: 'Chronologie 3D',
      dashboard: 'Tableau de bord',
      drillDown: 'Exploration',
      pomodoro: 'Pomodoro',
      focus: 'Concentration',
      kanban: 'Kanban',
      mindmap: 'Carte mentale',
      notes: 'Notes',
      documents: 'Documents',
      photos: 'Photos',
      videos: 'Vidéos',
      audio: 'Audio',
      links: 'Liens',
      bookmarks: 'Favoris',
      contacts: 'Contacts',
      projects: 'Projets',
      clients: 'Clients',
      invoices: 'Factures',
      expenses: 'Dépenses',
      budget: 'Budget',
      investments: 'Investissements',
      loans: 'Prêts',
      generalInsurance: 'Assurance',
      taxes: 'Impôts',
      recipes: 'Recettes',
      meals: 'Repas',
      groceries: 'Épicerie',
      inventory: 'Inventaire',
      wishlist: 'Liste de souhaits',
      subscriptions: 'Abonnements',
      vehicles: 'Véhicules',
      vehicleMaintenance: 'Entretien',
      fuel: 'Carburant',
      vehicleInsurance: 'Assurance automobile',
      repairs: 'Réparations',
      fitness: 'Fitness',
      workouts: 'Entraînements',
      progress: 'Progrès',
      metrics: 'Métriques',
      challenges: 'Défis',
      achievements: 'Réalisations',
      badges: 'Badges',
      leaderboard: 'Classement',
      social: 'Social',
      messages: 'Messages',
      notifications: 'Notifications',
      profile: 'Profil',
      preferences: 'Préférences',
      account: 'Compte',
      billing: 'Facturation',
      support: 'Support',
      feedback: 'Retour d\'information',
      helpCenter: 'Aide',
      documentation: 'Documentation',
      tutorials: 'Tutoriels',
      faq: 'FAQ',
      community: 'Communauté',
      forum: 'Forum',
      blog: 'Blog',
      news: 'Actualités',
      updates: 'Mises à jour',
      changelog: 'Journal des modifications',
      roadmap: 'Feuille de route',
      about: 'À propos',
      contact: 'Contact',
      privacy: 'Politique de confidentialité',
      terms: 'Conditions d\'utilisation',
      cookies: 'Politique de cookies',
      security: 'Sécurité',
      compliance: 'Conformité',
      accessibility: 'Accessibilité',
      careers: 'Carrières',
      partners: 'Partenaires',
      affiliates: 'Affiliés',
      developers: 'Développeurs',
      api: 'API',
      integrations: 'Intégrations',
      plugins: 'Plugins',
      extensions: 'Extensions',
      themes: 'Thèmes',
      customization: 'Personnalisation',
      branding: 'Marque',
      whiteLabel: 'Marque blanche',
      enterprise: 'Entreprise',
      education: 'Éducation',
      nonprofit: 'À but non lucratif',
      government: 'Gouvernement'
    }
  },
  de: {
    common: {
      save: 'Speichern',
      cancel: 'Abbrechen',
      delete: 'Löschen',
      edit: 'Bearbeiten',
      add: 'Hinzufügen',
      close: 'Schließen',
      loading: 'Wird geladen...',
      error: 'Fehler',
      success: 'Erfolg',
      ok: 'OK',
      yes: 'Ja',
      no: 'Nein',
      confirm: 'Bestätigen',
      search: 'Suchen',
      filter: 'Filtern',
      sort: 'Sortieren',
      refresh: 'Aktualisieren',
      download: 'Herunterladen',
      upload: 'Hochladen',
      print: 'Drucken',
      share: 'Teilen',
      settings: 'Einstellungen',
      help: 'Hilfe',
      about: 'Über',
      logout: 'Abmelden',
      login: 'Anmelden',
      register: 'Registrieren',
      username: 'Benutzername',
      password: 'Passwort',
      email: 'E-Mail',
      phone: 'Telefon',
      name: 'Name',
      description: 'Beschreibung',
      date: 'Datum',
      time: 'Zeit',
      location: 'Ort',
      status: 'Status',
      priority: 'Priorität',
      category: 'Kategorie',
      tags: 'Tags',
      notes: 'Notizen',
      attachments: 'Anhänge',
      reminder: 'Erinnerung',
      notification: 'Benachrichtigung',
      theme: 'Design',
      language: 'Sprache',
      accessibility: 'Barrierefreiheit',
      privacy: 'Datenschutz',
      security: 'Sicherheit',
      backup: 'Sicherung',
      restore: 'Wiederherstellen',
      export: 'Exportieren',
      import: 'Importieren',
      sync: 'Synchronisieren',
      update: 'Aktualisieren',
      install: 'Installieren',
      uninstall: 'Deinstallieren',
      enable: 'Aktivieren',
      disable: 'Deaktivieren',
      show: 'Anzeigen',
      hide: 'Verstecken',
      expand: 'Erweitern',
      collapse: 'Zusammenklappen',
      next: 'Weiter',
      previous: 'Zurück',
      first: 'Erster',
      last: 'Letzter',
      today: 'Heute',
      tomorrow: 'Morgen',
      yesterday: 'Gestern',
      week: 'Woche',
      month: 'Monat',
      year: 'Jahr',
      all: 'Alle',
      none: 'Keine',
      select: 'Auswählen',
      deselect: 'Abwählen',
      clear: 'Löschen',
      reset: 'Zurücksetzen',
      undo: 'Rückgängig',
      redo: 'Wiederholen',
      copy: 'Kopieren',
      paste: 'Einfügen',
      cut: 'Ausschneiden',
      duplicate: 'Duplizieren',
      move: 'Verschieben',
      resize: 'Größe ändern',
      rotate: 'Drehen',
      zoom: 'Zoomen',
      fullscreen: 'Vollbild',
      exit: 'Beenden',
      home: 'Startseite',
      back: 'Zurück',
      forward: 'Vorwärts',
      up: 'Nach oben',
      down: 'Nach unten',
      left: 'Links',
      right: 'Rechts'
    },
    calendar: {
      title: 'Kalender',
      events: 'Ereignisse',
      tasks: 'Aufgaben',
      today: 'Heute',
      month: 'Monat',
      week: 'Woche',
      day: 'Tag',
      agenda: 'Agenda',
      schedule: 'Zeitplan',
      appointment: 'Termin',
      meeting: 'Besprechung',
      reminder: 'Erinnerung',
      deadline: 'Frist',
      milestone: 'Meilenstein',
      holiday: 'Feiertag',
      birthday: 'Geburtstag',
      anniversary: 'Jahrestag',
      vacation: 'Urlaub',
      sick: 'Krankheit',
      personal: 'Persönlich',
      work: 'Arbeit',
      family: 'Familie',
      friends: 'Freunde',
      health: 'Gesundheit',
      fitness: 'Fitness',
      education: 'Bildung',
      finance: 'Finanzen',
      travel: 'Reisen',
      entertainment: 'Unterhaltung',
      shopping: 'Einkaufen',
      maintenance: 'Wartung',
      other: 'Andere'
    },
    navigation: {
      calendar: 'Kalender',
      analytics: 'Analytik',
      heatmap: 'Heatmap',
      gantt: 'Gantt',
      timeTracker: 'Zeiterfassung',
      habits: 'Gewohnheiten',
      goals: 'Ziele',
      privacyPolicy: 'Datenschutz',
      mobile: 'Mobil',
      workflow: 'Arbeitsablauf',
      aiAssistant: 'KI-Assistent',
      resources: 'Ressourcen',
      team: 'Team',
      reports: 'Berichte',
      timeline3d: '3D-Zeitleiste',
      dashboard: 'Dashboard',
      drillDown: 'Detailansicht',
      pomodoro: 'Pomodoro',
      focus: 'Fokus',
      kanban: 'Kanban',
      mindmap: 'Mindmap',
      notes: 'Notizen',
      documents: 'Dokumente',
      photos: 'Fotos',
      videos: 'Videos',
      audio: 'Audio',
      links: 'Links',
      bookmarks: 'Lesezeichen',
      contacts: 'Kontakte',
      projects: 'Projekte',
      clients: 'Kunden',
      invoices: 'Rechnungen',
      expenses: 'Ausgaben',
      budget: 'Budget',
      investments: 'Investitionen',
      loans: 'Kredite',
      generalInsurance: 'Versicherung',
      taxes: 'Steuern',
      recipes: 'Rezepte',
      meals: 'Mahlzeiten',
      groceries: 'Lebensmittel',
      inventory: 'Inventar',
      wishlist: 'Wunschliste',
      subscriptions: 'Abonnements',
      vehicles: 'Fahrzeuge',
      vehicleMaintenance: 'Wartung',
      fuel: 'Kraftstoff',
      vehicleInsurance: 'Fahrzeugversicherung',
      repairs: 'Reparaturen',
      fitness: 'Fitness',
      workouts: 'Training',
      progress: 'Fortschritt',
      metrics: 'Metriken',
      challenges: 'Herausforderungen',
      achievements: 'Erfolge',
      badges: 'Abzeichen',
      leaderboard: 'Bestenliste',
      social: 'Sozial',
      messages: 'Nachrichten',
      notifications: 'Benachrichtigungen',
      profile: 'Profil',
      preferences: 'Einstellungen',
      account: 'Konto',
      billing: 'Abrechnung',
      support: 'Support',
      feedback: 'Feedback',
      helpCenter: 'Hilfezentrum',
      documentation: 'Dokumentation',
      tutorials: 'Tutorials',
      faq: 'FAQ',
      community: 'Community',
      forum: 'Forum',
      blog: 'Blog',
      news: 'Nachrichten',
      updates: 'Updates',
      changelog: 'Änderungsprotokoll',
      roadmap: 'Roadmap',
      about: 'Über',
      contact: 'Kontakt',
      privacy: 'Datenschutzrichtlinie',
      terms: 'Allgemeine Geschäftsbedingungen',
      cookies: 'Cookie-Richtlinie',
      security: 'Sicherheit',
      compliance: 'Compliance',
      accessibility: 'Barrierefreiheit',
      careers: 'Karriere',
      partners: 'Partner',
      affiliates: 'Affiliate-Partner',
      developers: 'Entwickler',
      api: 'API',
      integrations: 'Integrationen',
      plugins: 'Plugins',
      extensions: 'Erweiterungen',
      themes: 'Themen',
      customization: 'Anpassung',
      branding: 'Branding',
      whiteLabel: 'White Label',
      enterprise: 'Unternehmen',
      education: 'Bildung',
      nonprofit: 'Nonprofit',
      government: 'Behörden'
    }
  },
  zh: {
    common: {
      save: '保存',
      cancel: '取消',
      delete: '删除',
      edit: '编辑',
      add: '添加',
      close: '关闭',
      loading: '加载中...',
      error: '错误',
      success: '成功',
      ok: '确定',
      yes: '是',
      no: '否',
      confirm: '确认',
      search: '搜索',
      filter: '筛选',
      sort: '排序',
      refresh: '刷新',
      download: '下载',
      upload: '上传',
      print: '打印',
      share: '分享',
      settings: '设置',
      help: '帮助',
      about: '关于',
      logout: '退出登录',
      login: '登录',
      register: '注册',
      username: '用户名',
      password: '密码',
      email: '邮箱',
      phone: '电话',
      name: '姓名',
      description: '描述',
      date: '日期',
      time: '时间',
      location: '位置',
      status: '状态',
      priority: '优先级',
      category: '类别',
      tags: '标签',
      notes: '备注',
      attachments: '附件',
      reminder: '提醒',
      notification: '通知',
      theme: '主题',
      language: '语言',
      accessibility: '无障碍',
      privacy: '隐私',
      security: '安全',
      backup: '备份',
      restore: '恢复',
      export: '导出',
      import: '导入',
      sync: '同步',
      update: '更新',
      install: '安装',
      uninstall: '卸载',
      enable: '启用',
      disable: '禁用',
      show: '显示',
      hide: '隐藏',
      expand: '展开',
      collapse: '收起',
      next: '下一步',
      previous: '上一步',
      first: '首页',
      last: '末页',
      today: '今天',
      tomorrow: '明天',
      yesterday: '昨天',
      week: '周',
      month: '月',
      year: '年',
      all: '全部',
      none: '无',
      select: '选择',
      deselect: '取消选择',
      clear: '清除',
      reset: '重置',
      undo: '撤销',
      redo: '重做',
      copy: '复制',
      paste: '粘贴',
      cut: '剪切',
      duplicate: '复制',
      move: '移动',
      resize: '调整大小',
      rotate: '旋转',
      zoom: '缩放',
      fullscreen: '全屏',
      exit: '退出',
      home: '首页',
      back: '返回',
      forward: '前进',
      up: '向上',
      down: '向下',
      left: '向左',
      right: '向右'
    },
    calendar: {
      title: '日历',
      events: '事件',
      tasks: '任务',
      today: '今天',
      month: '月',
      week: '周',
      day: '日',
      agenda: '议程',
      schedule: '时间表',
      appointment: '预约',
      meeting: '会议',
      reminder: '提醒',
      deadline: '截止日期',
      milestone: '里程碑',
      holiday: '假期',
      birthday: '生日',
      anniversary: '周年纪念',
      vacation: '休假',
      sick: '病假',
      personal: '个人',
      work: '工作',
      family: '家庭',
      friends: '朋友',
      health: '健康',
      fitness: '健身',
      education: '教育',
      finance: '财务',
      travel: '旅行',
      entertainment: '娱乐',
      shopping: '购物',
      maintenance: '维护',
      other: '其他'
    },
    navigation: {
      calendar: '日历',
      analytics: '分析',
      heatmap: '热力图',
      gantt: '甘特图',
      timeTracker: '时间跟踪',
      habits: '习惯',
      goals: '目标',
      privacyPolicy: '隐私政策',
      mobile: '移动端',
      workflow: '工作流程',
      aiAssistant: 'AI助手',
      resources: '资源',
      team: '团队',
      reports: '报告',
      timeline3d: '3D时间线',
      dashboard: '仪表板',
      drillDown: '钻取',
      pomodoro: '番茄工作法',
      focus: '专注',
      kanban: '看板',
      mindmap: '思维导图',
      notes: '笔记',
      documents: '文档',
      photos: '照片',
      videos: '视频',
      audio: '音频',
      links: '链接',
      bookmarks: '书签',
      contacts: '联系人',
      projects: '项目',
      clients: '客户',
      invoices: '发票',
      expenses: '费用',
      budget: '预算',
      investments: '投资',
      loans: '贷款',
      generalInsurance: '保险',
      taxes: '税务',
      recipes: '食谱',
      meals: '餐食',
      groceries: '杂货',
      inventory: '库存',
      wishlist: '愿望清单',
      subscriptions: '订阅',
      vehicles: '车辆',
      vehicleMaintenance: '维护',
      fuel: '燃料',
      vehicleInsurance: '车辆保险',
      repairs: '维修',
      fitness: '健身',
      workouts: '锻炼',
      progress: '进度',
      metrics: '指标',
      challenges: '挑战',
      achievements: '成就',
      badges: '徽章',
      leaderboard: '排行榜',
      social: '社交',
      messages: '消息',
      notifications: '通知',
      profile: '个人资料',
      preferences: '偏好设置',
      account: '账户',
      billing: '账单',
      support: '支持',
      feedback: '反馈',
      helpCenter: '帮助中心',
      documentation: '文档',
      tutorials: '教程',
      faq: '常见问题',
      community: '社区',
      forum: '论坛',
      blog: '博客',
      news: '新闻',
      updates: '更新',
      changelog: '变更日志',
      roadmap: '路线图',
      about: '关于',
      contact: '联系',
      privacy: '隐私政策',
      terms: '服务条款',
      cookies: 'Cookie政策',
      security: '安全',
      compliance: '合规',
      accessibility: '无障碍',
      careers: '招聘',
      partners: '合作伙伴',
      affiliates: '联盟',
      developers: '开发者',
      api: 'API',
      integrations: '集成',
      plugins: '插件',
      extensions: '扩展',
      themes: '主题',
      customization: '自定义',
      branding: '品牌',
      whiteLabel: '白标',
      enterprise: '企业',
      education: '教育',
      nonprofit: '非营利',
      government: '政府'
    }
  }
};

// Hook implementation
export const useI18n = (initialLanguage: SupportedLanguages = 'en') => {
  const [language, setLanguage] = useState<SupportedLanguages>(initialLanguage);

  const t = useCallback((key: string, params?: Record<string, string | number>): string => {
    // Split key by dots to navigate through nested objects
    const keys = key.split('.');
    let value: string | Translations | undefined = translations[language];

    // Navigate through the translation object
    for (const k of keys) {
      if (!value || typeof value === 'string') {
        break;
      }
      value = value[k];
    }

    // If we found a string, use it, otherwise fall back to English
    let result = typeof value === 'string' ? value : key;
    
    // If English fallback also fails, return the key
    if (result === key && language !== 'en') {
      let englishValue: string | Translations | undefined = translations['en'];
      for (const k of keys) {
        if (!englishValue || typeof englishValue === 'string') {
          break;
        }
        englishValue = englishValue[k];
      }
      result = typeof englishValue === 'string' ? englishValue : key;
    }

    // Replace parameters in the translation string
    if (params) {
      Object.keys(params).forEach(paramKey => {
        result = result.replace(`{{${paramKey}}}`, String(params[paramKey]));
      });
    }

    return result;
  }, [language]);

  // Detect browser language and set as default if supported
  useEffect(() => {
    const browserLang = navigator.language.substring(0, 2);
    const langMap: Record<string, SupportedLanguages> = {
      en: 'en',
      es: 'es',
      fr: 'fr',
      de: 'de',
      zh: 'zh'
    };
    
    if (browserLang in langMap) {
      setLanguage(langMap[browserLang]);
    }
  }, []);

  return {
    language,
    setLanguage,
    t
  };
};

export type { SupportedLanguages };